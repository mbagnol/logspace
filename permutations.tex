\notations{Given any set of wirings $\,E\,$, we write respectively $\,\vect(E)\,$, $\,\alg(E)\,$ and $\,\alg^\dagger(E)\,$ the vector space%
%(that is, the set of \emph{finite} linear combinations of elements of $\,E\,$)
, the algebra and the $\ast$-algebra generated by $\,E\,$.

Moreover, we set 
\[\unitalg:=\,\BB C.\unit=\vect\{\:\unit\:\}=\alg^\dagger\{\:\unit\:\}\qquad\quad
u\sflow v:=\, u\flow v +v\flow u\qquad\quad
%\pflow u:=\,u\flow u
\]
We will always write \enquote{$\ast$-algebra} instead of the more correct \enquote{$\ast$-subalgebra of $\,\ualg\,$}, for brevity.
}

\smallskip
Two important features of $\,\ualg\,$ for this work are the possibility of representing (unbounded) tensor products and finite-support permutations of $\,\BB N\,$.

\define[tensor product]
	{Let $\,u\flow v\,$ and $\,t\flow w\,$ be two flows.
	Suppose we have chosen representatives of the renaming classes that have their sets of variables disjoint. We define their \emph{tensor product} as
	\[(u\flow v) \tensor (t\flow w):=\: u\p t \flow v\p w\]
	The operation is extended to wirings by bilinearity.
	
	\smallskip
	Given two $\ast$-algebras $\,\C A,\C B\,$, we define their tensor product as the $\ast$-algebra
	\[\C A\tensor \C B:= \,\vect\set{F\tensor G}{F\in\C A,\:G\in \C B}\]
	\vspace{-7mm}
}

This actually defines an embedding of the algebraic tensor product of $\ast$-algebras into $\,\ualg\,$, which means in particular that $\,(F\tensor G)(P\tensor Q)=(FP)\tensor(GQ)\,$.

\smallskip
\notation{We carry on the convention for the binary function symbol and write the tensor product of $\ast$-algebras as \emph{right associating} to avoid an excess of parenthesis: $$\,\C A\tensor\C B\tensor\C C \::=\:\C A\tensor(\C B\tensor\C C) \,$$}


\define[unbounded tensor]
	{\label{unbounded}%
	Let $\,\C A\,$ be a $\ast$-algebra. We define the $\ast$-algebras $\,\C A^n\,$ for all $\,n\in \BB N\,$ as
	\[\C A^0:= \unitalg \quad\text{and}\quad \C A^{n+1}:=\,\C A \tensor \C A^n\]
	and the $\ast$-algebra $\ \displaystyle\C A^\infty:=\:\bigcup_{\mathclap{n\in N}} \:\C A^n\ $.% and $\ \displaystyle\C A^{\leq N}:=\:\bigcup_{n\in\{\,1,\dots,N\,\}}^N \:\C A^n\ $.
}

We will consider finite permutations, but allow them to be composed even when their domain of definition is not the same.

\notations{Let $\,\F S_n\,$ be the set of finite permutations over $\{1, \hdots, n\}$, if $\,\sigma\in \F S_n\,$, we define $\,\sigma_{+k}\in \F S_{n+k}\,$ as the permutation $\,\sigma\,$ extended to $\,\{\:1,\dots,n,\dots,n+k\:\}\,$ letting $\,\sigma_{+k}(n+i):=n+i\,$ for $\,i\in\{\,1,\dots,k\,\}\,$.

We also write $\,1_k:=\Id_{\{1,\dots,k\}}\in \F S_k\,$.}

\define[representation]
	{To a permutation $\,\sigma \in \F S_n\,$ we associate the flow
	\[[\sigma]:= \,x_1\p x_2\p\,\cdots\,\p x_n \p y\flow x_{\sigma(1)}\p x_{\sigma(2)}\p\,\cdots\,\p x_{\sigma(n)}\p y\]
%	We will write $\,\,$
	
	We will omit the brackets when there is no ambiguity.
}

A permutation $\,\sigma\in\F S_n\,$ will act on the $\,n\,$ first component of the unbounded tensor product (Definition \ref{unbounded}) by swapping them and leaving the rest unchanged.

The wirings $\,[\sigma]\,$ internalize this action: in the above definition, the last $\,y\,$ variable stands for the components that are not affected.


\lemma[representation]
	{\label{open-represent}For $\,\sigma\in \F S_n\,$ and $\,\tau\in\F S_{n+k}\,$ we have
	\[[\sigma_{+k}]=[\sigma][1_{n+k}]=[1_{n+k}][\sigma] \qquad
	[\sigma_{+k}\circ\tau]=[\sigma][\tau]\qquad
	 \text{and} \qquad
	 [\sigma^{-1}]=[\sigma]^\dagger
	\]
	\vspace{-5mm}
}

\define[permutation algebra]
	{For $\,n\in \BB N\,$ we set $\:[\F S_n]:=\,\set{[\sigma]}{\sigma \in \F S_n}\,$ and $\,\C S_n:=\,\alg^\dagger[\F S_n]=\vect[\F S_n]\,$.
	
	We define then $\:\displaystyle\C S:=\,\:\bigcup_{\mathclap{n\in \BB N}} \C S_n\:$, which we call the \emph{permutation algebra}.
}
