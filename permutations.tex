We define now the representation in $\,\ualg\,$ of structures that provide enough expressivity to model computation.

Unbounded tensor products will allow to represent data of arbitrary size, and finite-support permutations will be used to manipulate these data.

\medskip
\notations{Given any set of wirings $\,E\,$, we write $\,\vect(E)\,$ the vector space
generated by $\,E\,$, \emph{ie.} the set of \emph{finite} linear combinations of elements of $\,E\,$ (for instance $\,\vect(\closed)=\closedh\,$).

Moreover, we set 
$\,\unitalg:=\set{\lambda\unit}{\lambda\in \BB C\,}\,$ (with $\,I=x\flow x\,$ as in Definition \ref{def_flow})
and
$\,u\sflow v:=\, u\flow v +v\flow u\,$.
%\pflow u:=\,u\flow u

\smallskip
For brevity we write \enquote{$\ast$-algebra} instead of the more correct \enquote{$\ast$-subalgebra of $\,\ualg\,$}.
}

%Two important features of $\,\ualg\,$ for this work are the possibility of representing (unbounded) tensor products and finite-support permutations of $\,\BB N\,$.

\define[tensor product]
	{Let $\,u\flow v\,$ and $\,t\flow w\,$ be two flows.
	Suppose we have chosen representatives of these renaming classes that have their sets of variables disjoint. We define their \emph{tensor product} as
	$\,(u\flow v) \ptensor (t\flow w):=\: u\p t \flow v\p w\,$.
	The operation is extended to wirings by bilinearity.
	
	\smallskip
	Given two $\ast$-algebras $\,\C A,\C B\,$, we define their tensor product as the $\ast$-algebra
	\[\C A\ptensor \C B:= \,\vect\set{F\ptensor G}{F\in\C A,\:G\in \C B}\]
	\vspace{-7mm}
}

This actually defines an embedding of the algebraic tensor product of $\ast$-algebras into $\,\ualg\,$, which means in particular that $\,(F\ptensor G)(P\ptensor Q)=(FP)\ptensor(GQ)\,$. It ensures in particular that the $\,\ptensor\,$ operation indeed yields $\ast$-algebras.

\smallskip
\notation{Again, the $\,\ptensor\,$ is not associative. We carry on our convention and write it as \emph{right associating}: $\,\C A\ptensor\C B\ptensor\C C \::=\:\C A\ptensor(\C B\ptensor\C C) \,$.}
\vspace{-1mm}

\define[unbounded tensor]
	{\label{unbounded}%
	Let $\,\C A\,$ be a $\ast$-algebra. We define the $\ast$-algebras $\,\C A\tpower n\,$ for all $\,n\in \BB N\,$ as
	\vspace{-2mm}
	\[\C A\tpower 0:= \unitalg \quad\text{and}\quad \C A\tpower {n+1}:=\,\C A \ptensor \C A\tpower n\]
	\vspace{-3mm}
	and the $\ast$-algebra $\ \displaystyle\C A\tpower \infty:=\:\bigcup_{\mathclap{n\in \BB N}} \:\C A\tpower n\ $.% and $\ \displaystyle\C A^{\leq N}:=\:\bigcup_{n\in\{\,1,\dots,N\,\}}^N \:\C A^n\ $.
}

We will consider finite permutations, but allow them to be composed even when their domain of definition is not the same.

\smallskip
\notations{Let $\,\F S_n\,$ be the set of finite permutations over $\{1, \hdots, n\}$, if $\,\sigma\in \F S_n\,$, we define $\,\sigma_{+k}\in \F S_{n+k}\,$ as the permutation $\,\sigma\,$ extended to $\,\{\:1,\dots,n,\dots,n+k\:\}\,$ letting $\,\sigma_{+k}(n+i):=n+i\,$ for $\,i\in\{\,1,\dots,k\,\}\,$.

We also write $\,\unit_k:=\Id_{\{1,\dots,k\}}\in \F S_k\,$.}

\define[representation]
	{To a permutation $\,\sigma \in \F S_n\,$ we associate the flow
	\vspace{-1mm}
	\[[\sigma]:= \,x_1\p x_2\p\,\cdots\,\p x_n \p y\flow x_{\sigma(1)}\p x_{\sigma(2)}\p\,\cdots\,\p x_{\sigma(n)}\p y\]
	\vspace{-6mm}
%	We will write $\,\,$
	
%	We will omit the brackets when there is no risk of ambiguity.
}

A permutation $\,\sigma\in\F S_n\,$ will act on the first $\,n\,$ component of the unbounded tensor product (Definition \ref{unbounded}) by swapping them and leaving the rest unchanged.

The wirings $\,[\sigma]\,$ internalize this action: in the above definition, the variable $\,y\,$ at the end stands for the components that are not affected.

\smallskip
\example{Let $\,\tau\in\F S_2\,$ be the  permutation swapping the two elements of $\,\{1,2\}\,$ and $\,U_1\ptensor U_2\ptensor U_3\ptensor \unit \in \ualg\tpower 3\subseteq \ualg\tpower\infty\,$. 

\smallskip
Then $\,[\tau](U_1\ptensor U_2\ptensor U_3\ptensor \unit)[\tau]^\dagger=U_2\ptensor U_1\ptensor U_3\ptensor \unit\,$.}

\proposition[representation]
	{\label{open-represent}For $\,\sigma\in \F S_n\,$ and $\,\tau\in\F S_{n+k}\,$ we have
	\vspace{-1mm}
	\[[\sigma_{+k}]=[\sigma][\unit_{n+k}]=[\unit_{n+k}][\sigma] \qquad
	[\sigma_{+k}\circ\tau]=[\sigma][\tau]\qquad
	 \text{and} \qquad
	 [\sigma^{-1}]=[\sigma]^\dagger
	\]
	\vspace{-5mm}
}

\define[permutation algebra]
	{For $\,n\in \BB N\,$ we set $\:[\F S_n]:=\,\set{[\sigma]}{\sigma \in \F S_n}\,$ and $\,\C S_n:=\,\vect[\F S_n]\,$.
	
	We define then $\:\displaystyle\C S:=\,\:\bigcup_{\mathclap{n\in \BB N}} \C S_n\:$, which we call the \emph{permutation algebra}.
}

Proposition \ref{open-represent} ensures that the $\,\C S_n\,$ and $\,\C S\,$ are $\ast$-algebras.